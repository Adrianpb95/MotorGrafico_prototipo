/*
ADRIAN PONCE BALSEIRO
ESNE G4.3 DDVJ
adrianpb95@gmail.com
3 / 07 / 2018
*/

#ifndef EVENT_MODULE_HEADER
#define EVENT_MODULE_HEADER

////////////////////////////////////////////////////////////
// Headers
////////////////////////////////////////////////////////////
#include "Module.hpp"
#include "Event_Task.hpp"

////////////////////////////////////////////////////////////
// NameSpaces
////////////////////////////////////////////////////////////
namespace example
{
	class Event_Module : public Module
	{

		////////////////////////////////////////////////////////////
		// Declaracion de variables			
		////////////////////////////////////////////////////////////

	private:

		Event_Task event_task;			///<Tarea de tipo evento perteneciente al modulo
		

		////////////////////////////////////////////////////////////
		// Declaracion de funciones			
		////////////////////////////////////////////////////////////

	public:
		
		////////////////////////////////////////////////////////////
		/// \brief	Constructor de Event_Module:	Modulo de tipo evento
		///	@param	scene			Escena a la que pertenece
		////////////////////////////////////////////////////////////
		Event_Module(Scene * scene) : Module(scene), event_task(scene) {}

		////////////////////////////////////////////////////////////
		/// \brief	Destructor de Event_Module
		////////////////////////////////////////////////////////////
		~Event_Module() {}	
		
		////////////////////////////////////////////////////////////
		/// \brief	Crea un Modulo de tipo evento
		///	@param	scene			Escena a la que pertenece
		////////////////////////////////////////////////////////////
		static shared_ptr<Module> create(Scene * scene)
		{
			return shared_ptr<Module>(new Event_Module(scene));
		}

		////////////////////////////////////////////////////////////
		/// \brief	GETTER de la tarea perteneciente al modulo
		////////////////////////////////////////////////////////////
		Task * getTask() override
		{
			return &event_task;
		}

	public:
		
		////////////////////////////////////////////////////////////
		/// \brief	Crea un componente de tipo evento con informacion de un xml
		///	@param	entity			Entidad a la que añadirle el componente
		///	@param	event_node		Nodo del event desde el que empezar a leer en el xml
		////////////////////////////////////////////////////////////
		void create_component(Entity * entity, xml_node<> * event_node) override;
	};
}

#endif